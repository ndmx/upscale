{% extends 'errors/base_error.html' %}
{% block title %}Too Many Requests - Upskill Institute{% endblock %}

{% block error_icon %}
<svg width="120" height="120" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5"/>
    <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
</svg>
{% endblock %}

{% block error_code %}429{% endblock %}
{% block error_title %}Slow Down{% endblock %}
{% block error_message %}
You've made too many requests in a short period. Please wait a moment before trying again.
{% endblock %}

{% block error_actions %}
<button onclick="location.reload()" class="btn apple-primary" id="retryBtn" disabled>
    <i class="bi bi-arrow-clockwise"></i> <span id="retryText">Retry in 30s</span>
</button>
<a href="{{ url_for('home') }}" class="btn btn-outline-primary">
    <i class="bi bi-house"></i> Back to Home
</a>

<script>
(function() {
    var seconds = 30;
    var btn = document.getElementById('retryBtn');
    var text = document.getElementById('retryText');
    
    var interval = setInterval(function() {
        seconds--;
        if (seconds <= 0) {
            clearInterval(interval);
            btn.disabled = false;
            text.textContent = 'Try Again';
        } else {
            text.textContent = 'Retry in ' + seconds + 's';
        }
    }, 1000);
})();
</script>
{% endblock %}

{% block error_help %}
<p>This limit helps protect our service. If you need higher limits, <a href="mailto:support@upskillsinstitute.org">contact us</a>.</p>
{% endblock %}

